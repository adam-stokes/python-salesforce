#!/usr/bin/env python
# vim:syntax=python
# sfc - cli to salesforce api
from sforce import COMMONS as c
from sforce.client import sf_session
from sforce.models import (Base,
                           Case,
                           Account,
                           Asset)
import yaml
import os
from pprint import pprint

if __name__=="__main__":
    c['sandbox'] = True
    c['client_key'] = os.environ['SFKEY']
    c['client_secret'] = os.environ['SFSECRET']
    # Intialize session
    sf_session(c)
    case = Case(c)
    acct = Account(c)
    asst = Asset(c)
    ret, case_res = case.by_id('500M00000035FJj')
    # Case attributes
    print yaml.dump(case_res)
    # Associated case comments
    print yaml.dump(case_res.Comments)
    # Account info from case
    ret, acct_res = acct.by_id(case_res.AccountId)
    print yaml.dump(acct_res)
    # Asset info from case
    ret, asset_res = asst.by_id(case_res.AssetId)
    print yaml.dump(asset_res)
